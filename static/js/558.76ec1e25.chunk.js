"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[558],{5558:function(e,n,t){t.r(n),t.d(n,{default:function(){return T}});var a=t(5048),s=t(9439),r=t(2791),i=t(5705),o=t(6727),c=t(9085),l=(t(5462),t(8273)),u=t(3661),d=t(7445),m={contactItem:"ContactForm_contactItem__-cd5Q",delBtn:"ContactForm_delBtn__15kRF",btn:"ContactForm_btn__wll+u"},h=t(3329),x=function(){var e=(0,u.Tn)(),n=(0,s.Z)(e,2),t=n[0],a=n[1],x=a.isLoading,p=a.isSuccess,f=a.isError,b=(0,u.Jx)().data;(0,r.useEffect)((function(){p&&(0,d.fI)()}),[p]),(0,r.useEffect)((function(){f&&(0,d.I3)()}),[f]);var j=o.Ry().shape({name:o.Z_().min(2,"Too Short!").max(20,"Too Long!").required("Name is required field"),phone:o.Rx().typeError("That does not look like a phone number").positive("A phone number can't start with a minus").integer("A phone number can't include a decimal point").required("A phone number is required")});return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(c.Ix,{autoClose:1e3,position:"top-center"}),(0,h.jsx)(i.J9,{initialValues:{name:"",phone:""},validationSchema:j,onSubmit:function(e,n){var a=n.resetForm,s=e.name,r=e.phone;b.find((function(n){return n.name.toLowerCase()===e.name.toLowerCase()}))?alert("".concat(e.name," is already in contacts!")):t({name:s,number:r})&&a()},children:(0,h.jsxs)(i.l0,{className:m.form,children:[(0,h.jsxs)("label",{className:m.label,children:["Name",(0,h.jsx)(i.gN,{className:m.input,type:"text",name:"name",placeholder:"Name"}),(0,h.jsx)(i.Bc,{className:m.error,name:"name",component:"div"})]}),(0,h.jsxs)("label",{className:m.label,children:["Number",(0,h.jsx)(i.gN,{className:m.input,type:"tel",name:"phone",placeholder:"phone"}),(0,h.jsx)(i.Bc,{className:m.error,name:"phone",component:"div"})]}),(0,h.jsxs)("button",{className:m.btn,disabled:x,type:"submit",children:[x&&(0,h.jsx)(l.s5,{height:"20",width:"20"}),"Add contact"]})]})})]})},p=t(3628),f=t(6895),b=t(9150),j="Filter_label__vEd1E",_="Filter_input__N7T3z",g=function(){var e=(0,a.I0)(),n=(0,a.v9)(b.zK);return(0,h.jsxs)("label",{className:j,children:["Find contacts by name",(0,h.jsx)(p.DebounceInput,{minLength:1,debounceTimeout:300,className:_,type:"text",value:n,placeholder:"Search",onChange:function(n){var t;t=n.target.value,e((0,f.T)(t))}})]})},v="ContactList_contactList__UFVCg",C="ContactList_default__obqAl",N=t(1413),w=t(4925),y="button-styled_btn__1sHy6",F=["children","disabled","isLoading"],S=function(e){var n=e.children,t=e.disabled,a=e.isLoading,s=(0,w.Z)(e,F);return(0,h.jsxs)("button",(0,N.Z)((0,N.Z)({className:y,disabled:t},s),{},{type:"submit",children:[a&&(0,h.jsx)(l.s5,{height:"20",width:"20"}),n]}))},k="ContactItem_contactItem__Z4FuP",L=function(e){var n=e.id,t=e.name,a=e.number,i=(0,r.useState)(!1),o=(0,s.Z)(i,2),d=o[0],m=o[1],x=(0,r.useState)(t),p=(0,s.Z)(x,2),f=p[0],b=p[1],j=(0,r.useState)(a),_=(0,s.Z)(j,2),g=_[0],v=_[1],C=(0,u.Nt)(),N=(0,s.Z)(C,2),w=N[0],y=N[1],F=y.isLoading,L=y.isSuccess,A=(0,u.wv)(),I=(0,s.Z)(A,2),Z=I[0],E=I[1],T=E.isLoading,P=E.isSuccess;(0,r.useEffect)((function(){L&&c.Am.success("Contact has been deleted!"),P&&(m(!1),c.Am.success("Contact has been updated!"))}),[L,P]);var q=function(e){"name"===e.target.name?b(e.target.value):"number"===e.target.name&&v(e.target.value)};return(0,h.jsx)("li",{className:k,children:d?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("input",{type:"text",name:"name",value:f,onChange:q}),(0,h.jsx)("input",{type:"text",name:"number",value:g,onChange:q}),(0,h.jsxs)("div",{children:[(0,h.jsxs)(S,{onClick:function(){Z({id:n,name:f,number:g})},disabled:T,children:[T&&(0,h.jsx)(l.s5,{height:"20",width:"20"}),"Save"]}),(0,h.jsx)(S,{onClick:function(){m(!1),b(t),v(a)},children:"Cancel"})]})]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("span",{children:[t,":"]})," ",(0,h.jsx)("span",{children:a}),(0,h.jsxs)("div",{children:[(0,h.jsx)(S,{onClick:function(){m(!0)},children:"Edit"}),(0,h.jsxs)(S,{onClick:function(){window.confirm("Are you sure you want to delete this contact?")&&w(n)},disabled:F,children:[F&&(0,h.jsx)(l.s5,{height:"20",width:"20"}),"Delete"]})]})]})})},A=function(){var e=(0,a.v9)(b.zK),n=(0,u.Jx)(),t=n.data,s=n.isLoading,r=n.error;return(0,h.jsxs)(h.Fragment,{children:[s&&(0,h.jsx)("p",{className:C,children:"...loading"}),r&&(0,h.jsx)("p",{className:C,children:"Sorry, something went wrong, please try again later!"}),t&&0===t.length&&(0,h.jsx)("p",{children:"There is no contact!"}),(0,h.jsx)("ul",{className:v,children:t&&(0,b.F4)(t,e).map((function(e){var n=e.id,t=e.name,a=e.number;return(0,h.jsx)(L,{name:t,number:a,id:n},n)}))})]})},I="ContactsPage_wrapper__HYOyv",Z="ContactsPage_titlePhone__ODE41",E="ContactsPage_titleCont__JLcCo",T=function(){return(0,a.v9)(b.M7)&&(0,h.jsxs)("div",{className:I,children:[(0,h.jsx)("h1",{className:Z,children:"Phonebook"}),(0,h.jsx)(x,{}),(0,h.jsx)("h2",{className:E,children:"Contacts"}),(0,h.jsx)(g,{}),(0,h.jsx)(A,{})]})}},7445:function(e,n,t){t.d(n,{G$:function(){return r},I3:function(){return i},fI:function(){return o},oo:function(){return s}});var a=t(9085),s=function(){return a.Am.error("Sorry, wrong email or password!")},r=function(){return a.Am.error("Sorry, incorrect data entered!")},i=function(){return a.Am.error("Sorry, something went wrong, please try again later!")},o=function(){return a.Am.success("Contact added!")}}}]);
//# sourceMappingURL=558.76ec1e25.chunk.js.map